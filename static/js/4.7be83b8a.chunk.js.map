{"version":3,"sources":["components/Profile/ProfileContainer.jsx"],"names":["ProfileContainer","userId","this","props","match","params","authorizedUserId","history","push","getUserProfile","getUserStatus","refreshProfile","prevProps","prevState","snapshot","profile","isOwner","status","updateUserStatus","savePhoto","saveProfile","React","Component","compose","connect","state","profilePage","auth","isAuth","withRouter"],"mappings":"2NAYMA,E,+KAGE,IAAIC,EAASC,KAAKC,MAAMC,MAAMC,OAAOJ,OAEhCA,IACDA,EAASC,KAAKC,MAAMG,mBAEhBJ,KAAKC,MAAMI,QAAQC,KAAK,UAIhCN,KAAKC,MAAMM,eAAeR,GAC1BC,KAAKC,MAAMO,cAAcT,K,0CAIzBC,KAAKS,mB,yCAKUC,EAAWC,EAAWC,GACjCZ,KAAKC,MAAMC,MAAMC,OAAOJ,SAAWW,EAAUR,MAAMC,OAAOJ,QAC1DC,KAAKS,mB,+BAMT,OACI,cAAC,IAAD,2BAAaT,KAAKC,OAAlB,IACSY,QAASb,KAAKC,MAAMY,QACpBC,SAAUd,KAAKC,MAAMC,MAAMC,OAAOJ,OAClCgB,OAAQf,KAAKC,MAAMc,OACnBC,iBAAkBhB,KAAKC,MAAMe,iBAC7BC,UAAWjB,KAAKC,MAAMgB,UACtBC,YAAalB,KAAKC,MAAMiB,mB,GArCdC,IAAMC,WAuDtBC,sBACXC,aARkB,SAACC,GAAD,MAAY,CAC9BV,QAASU,EAAMC,YAAYX,QAC3BE,OAAQQ,EAAMC,YAAYT,OAC1BX,iBAAkBmB,EAAME,KAAK1B,OAC7B2B,OAAQH,EAAME,KAAKC,UAIM,CACrBnB,mBACAC,kBACAQ,qBACAC,cACAC,kBAIJS,IAVWN,CAYbvB","file":"static/js/4.7be83b8a.chunk.js","sourcesContent":["import React from 'react';\r\nimport Profile from \"./Profile\";\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n    getUserProfile,\r\n    getUserStatus, savePhoto, saveProfile, setIsOwner,\r\n    updateUserStatus\r\n} from \"../../Redux/profile-reducer\";\r\nimport {withRouter} from \"react-router\";\r\nimport {compose} from \"redux\";\r\n\r\n\r\nclass ProfileContainer extends React.Component {\r\n\r\n    refreshProfile() {\r\n        let userId = this.props.match.params.userId;\r\n\r\n        if (!userId) {\r\n            userId = this.props.authorizedUserId;\r\n            if (!userId) {\r\n                this.props.history.push(\"/login\");\r\n            }\r\n        }\r\n\r\n        this.props.getUserProfile(userId);\r\n        this.props.getUserStatus(userId);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.refreshProfile();\r\n\r\n\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if (this.props.match.params.userId !== prevProps.match.params.userId)\r\n            this.refreshProfile();\r\n    }\r\n\r\n\r\n    render() {\r\n\r\n        return (\r\n            <Profile {...this.props}\r\n                     profile={this.props.profile}\r\n                     isOwner={!this.props.match.params.userId}\r\n                     status={this.props.status}\r\n                     updateUserStatus={this.props.updateUserStatus}\r\n                     savePhoto={this.props.savePhoto}\r\n                     saveProfile={this.props.saveProfile}\r\n            />\r\n\r\n\r\n        )\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\nlet mapStateToProps = (state) => ({\r\n    profile: state.profilePage.profile,\r\n    status: state.profilePage.status,\r\n    authorizedUserId: state.auth.userId,\r\n    isAuth: state.auth.isAuth,\r\n})\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {\r\n        getUserProfile,\r\n        getUserStatus,\r\n        updateUserStatus,\r\n        savePhoto,\r\n        saveProfile,\r\n        \r\n\r\n    }),\r\n    withRouter,\r\n    //withAuthRedirect\r\n)(ProfileContainer)\r\n"],"sourceRoot":""}